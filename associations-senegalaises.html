<!DOCTYPE html>
<html lang="fr" class="html-index">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Associations Sénégalaises en France · ASA L'Association</title>

    <!-- SEO -->
    <meta name="description" content="Association des Sénégalais d’Amiens (ASA) : Associations Sénégalaises en France · octobre 2025.">
    <meta name="robots" content="index, follow">
    <link rel="canonical" href="https://asso-asa.github.io/asa/index.html">

    <!-- Favicon -->
    <link rel="icon" href="/asa/favicon.png" type="image/png"/>     
    <link rel="icon" href="/asa/img/favicon-32x32.png" sizes="32x32" type="image/png"/>
    <link rel="icon" href="/asa/img/favicon-16x16.png" sizes="16x16" type="image/png"/>

    <!-- Couleur de la barre du navigateur (Android) -->
    <meta name="theme-color" content="#00853F">

    <!-- Theme color adaptative (mode clair/sombre) -->
    <meta name="theme-color" media="(prefers-color-scheme: light)" content="#00853F">
    <meta name="theme-color" media="(prefers-color-scheme: dark)" content="#000000">

    <!-- Pour Safari iOS (mode web app) -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

    <!-- Open Graph -->
    <meta property="og:title" content="Associations Sénégalaises en France · ASA L'Association">
    <meta property="og:description" content="Association des Sénégalais d’Amiens (ASA).">
    <meta property="og:image" content="https://asso-asa.github.io/asa/img/logotype-asa-1200x630.png">
    <meta property="og:url" content="https://asa.org/">
    <meta property="og:type" content="website">
    <meta property="og:locale" content="fr_FR">

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Associations Sénégalaises en France · ASA L'Association">
    <meta name="twitter:description" content="Association des Sénégalais d’Amiens (ASA)">
    <meta name="twitter:image" content="https://asso-asa.github.io/asa/img/logotype-asa-1200x630.png">

    <!--  Icône utilisée quand un utilisateur ajoute la page à son écran d’accueil sur un iPhone/iPad. -->
    <link rel="apple-touch-icon" sizes="180x180"
    href="/asa/img/TILBILO-logo-180x180.png">

    <!-- Web App Manifest -->
    <link rel="manifest" href="/asa/manifest.json">

    <!-- CSS externe -->
    <link rel="stylesheet" href="/asa/style.css">

    <!-- Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="body-index">
  <!-- Barre de navigation -->
  <nav class="navbar navbar-expand-lg navbar-light bg-light shadow-sm">
      <div class="container">
          <!-- Logo -->
          <a class="navbar-brand" href="/asa/">
          <img src="/asa/img/logo-asa-asso.svg" alt="Tilbilo" width="auto" height="50">
          </a>

          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
          </button>

          <div class="collapse navbar-collapse" id="navbarNav">
              <ul class="navbar-nav ms-auto">
                  <li class="nav-item"><a class="nav-link active" href="/asa/">Accueil</a></li>
                  <li class="nav-item"><a class="nav-link active" href="/asa/projet-statuts">Projet Statuts</a></li>
                  <li class="nav-item"><a class="nav-link active" href="/asa/whatsapp">WhatsApp</a></li>
                  <li class="nav-item"><a class="nav-link" href="/asa/associations-senegalaises">Associations senegalaises</a></li>
                  <li class="nav-item"><a class="nav-link active" href="/asa/contact">Contact</a></li>
              </ul>
          </div>
      </div>
  </nav>

  <!-- Header -->
  <header class="py-4 bg-header text-white text-center">
    <div class="container">
      <p class="lead">Association des Sénégalais d’Amiens (ASA)</p>
      <img src="/asa/img/logo-asa-asso.svg" alt="Logo ASA" class="mb-5" style="height:100px;">

    </div>
  </header>

  <main class="container my-3">
    <!-- Barre de recherche -->
    <div class="mb-4 mt-2">
      <input id="search" type="text" class="form-control border-success" placeholder="Rechercher une ville...">
    </div>

    <!-- Accordéons -->
    <div class="accordion border border-success rounded p-2 mb-2 border-opacity-50" id="accordionAssociations"></div>
  </main>

  <!--  Section VIDE BLANCHE EN BAS -->
  <section id="contact" class="py-5">
    <div class="container">
      <div class="row justify-content-center">
        <div class="col-md-8">

        </div>
      </div>
    </div>
  </section>


  <!----- FOOTER --------->
  <footer class="bg-dark text-light py-3 text-center">
    <p class="mb-0">© 2025 ASA | <a href="/asa/mentions-legales" class="text-light text-decoration-none">Mentions légales</a></p>
  </footer>

  <!-- Scripts JS pour recuperer les données -->
  <script>
    const API_URL = "https://script.google.com/macros/s/AKfycbwjFa4b01yAgAS1QpMF71wbaR558vE-bZ0FwCzpVeBuLiMsfYLbhHtiPMm1uA653lHRLA/exec"; // à remplacer

    async function loadData() {
      const response = await fetch(API_URL);
      const data = await response.json();
      renderAccordion(data);

      // Filtrage
      document.getElementById("search").addEventListener("input", (e) => {
        const term = e.target.value.toLowerCase();
        const filtered = data.filter(item => item.Ville.toLowerCase().includes(term));
        renderAccordion(filtered);
      });
    }

    function renderAccordion(data) {
      const container = document.getElementById("accordionAssociations");
      container.innerHTML = "";
      data.forEach((item, index) => {
        container.innerHTML += `
          <div class="accordion-item">
            <h2 class="accordion-header" id="heading${index}">
              <button class="accordion-button collapsed fw-medium" type="button" data-bs-toggle="collapse" data-bs-target="#collapse${index}">
                ${item.Association}
              </button>
            </h2>
            <div id="collapse${index}" class="accordion-collapse collapse" data-bs-parent="#accordionAssociations">
              <div class="accordion-body bg-body-secondary">
                <p><b>Département:</b> ${item.Departement || "N/A"}</p>
                <p><b>Ville:</b> ${item.Ville || "N/A"}</p> 
                <p><b>Email:</b> 
                  ${item.Email 
                    ? `<a href="mailto:${item.Email}" target="_blank">${item.Email}</a>` 
                    : "N/A"}
                </p>
                <p><b>Téléphone:</b> 
                  ${item.Numero_de_telephone 
                    ? `<a href="tel:${item.Numero_de_telephone}" target="_blank">${item.Numero_de_telephone}</a>` 
                    : "N/A"}
                </p>
                <p><b>Instagram:</b> 
                  ${item.Lien_Instagram 
                    ? `<a href="${item.Lien_Instagram}" target="_blank">${item.Lien_Instagram}</a>` 
                    : "N/A"}
                </p>
                <p><b>Facebook:</b> 
                  ${item["Lien_Facebook_Page-Group"] 
                    ? `<a href="${item["Lien_Facebook_Page-Group"]}" target="_blank">${item["Lien_Facebook_Page-Group"]}</a>` 
                    : "N/A"}
                </p>
                <p><b>Site internet:</b> 
                  ${item.Site_internet 
                    ? `<a href="${item.Site_internet}" target="_blank">${item.Site_internet}</a>` 
                    : "N/A"}
                </p>
                <p><b>Dernière Mise à jour des données:</b> ${item.Date_de_derniere_Maj || "N/A"}</p>
              </div>
            </div>
          </div>
        `;
      });
    }

    loadData();
  </script>


  <!-- JS externe -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

</body>
</html>
